<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>9-15 对象-内属性值的提取</title>
	</head>
	<body>
		<script type="text/javascript">
			var movie1={
				title="Plan 9 From Outer Space",
				genre="Cult Classic",
				rating=5,
				showtimes=["3:00pm","7:00pm","11:00pm"]
			};
			var movie2={
				title="Forbidden Planet",
				genre:"Classic Sci-fri",
				rating=5,
				showtimes=["5:00pm","9:00p,"]
			};
			function getNextShowing(movie){
				var now =new Date().getTime();
				for(var i=0;i<movie.showtimes.length;i++){
					var showtime=getTimeFromSting(movie.showtimes[i]);
					if ((showtime-now)>0){
						return "Next showing of "+movie.title +"is"+movie.showtimes[i];
					}
				}
				return null;
			}
			
			function getTimeFromSting(timeSting){
				var theTime=new Date();
				var time=timeSting.match(/(\d+)(?::(\d\d))?\s*(p?)/);
				theTime.setHours(parseInt(time[1]+(time[3]?12:0)));
				theTime.setMinutes(parseInt(time[2]||0));
				return theTime.getTime();
			}
			var nextShowing=getNextShowing(movie1);
			alert(nextShowing);
			
		</script>
	</body>
</html>
